<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kids Stories and Magical Moments</title>
  <meta name="description" content="Watch magical short stories for kids from YouTube. A sweet blend of kindness, imagination, and bedtime joy!" />
  <meta name="keywords" content="kids stories, bedtime stories, YouTube shorts, magical moments" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <style>
    body {
      background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
      background-blend-mode: overlay;
    }
    .balloon {
      animation: float 8s ease-in-out infinite;
      position: absolute;
      width: 50px;
    }
    @keyframes float {
      0% { transform: translateY(100vh); }
      100% { transform: translateY(-100vh); }
    }
  </style>
</head>
<body id="body" class="transition-colors duration-1000 text-gray-800 min-h-screen flex flex-col relative overflow-hidden">
  <!-- Floating balloons -->
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Emoji_u1f388.svg/1024px-Emoji_u1f388.svg.png" class="balloon left-10" style="top: 100%; animation-delay: 0s;">
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Emoji_u1f388.svg/1024px-Emoji_u1f388.svg.png" class="balloon left-1/2" style="top: 120%; animation-delay: 3s;">
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Emoji_u1f388.svg/1024px-Emoji_u1f388.svg.png" class="balloon right-10" style="top: 140%; animation-delay: 6s;">  <!-- Top bar: Greeting and Clock -->  <div class="flex justify-between items-center px-6 py-2 bg-white bg-opacity-70 border-b border-gray-300">
    <div id="greeting" class="text-lg font-semibold text-gray-700"></div>
    <div id="clock" class="font-mono text-gray-600"></div>
  </div>  <header class="text-center py-8 flex-shrink-0">
    <h1 class="text-4xl font-bold text-yellow-700">Kids Stories and Magical Moments</h1>
    <p class="text-lg mt-2 text-pink-700">Enchanting short stories for little hearts âœ«</p>
  </header>  <main class="px-4 md:px-16 flex-grow">
    <div id="videoGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
  </main>  <!-- Modal -->  <div id="videoModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4">
    <div class="relative w-full max-w-sm sm:max-w-md md:max-w-lg" style="aspect-ratio: 9 / 16;">
      <iframe id="modalIframe" class="w-full h-full rounded-xl shadow-xl" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
      <button onclick="closeModal()" class="absolute -top-3 -right-3 bg-white text-black p-2 rounded-full shadow" aria-label="Close video">âŒ</button>
    </div>
  </div>  <!-- Footer -->  <footer class="mt-12 text-center text-gray-600 text-sm py-6 border-t border-gray-300 flex flex-col items-center gap-3 bg-white bg-opacity-60">
    <div>Made with â˜• by Lenny Rajan</div>
    <div class="flex gap-6 text-xl">
      <a href="https://www.facebook.com/magicalkidsstories" target="_blank" aria-label="Facebook" title="Facebook" rel="noopener noreferrer" class="hover:text-blue-600 transition">
        ğŸ“»
      </a>
      <a href="https://www.instagram.com/magicalmomentskidsstories/" target="_blank" aria-label="Instagram" title="Instagram" rel="noopener noreferrer" class="hover:text-pink-600 transition">
        ğŸ“¸
      </a>
      <a href="https://youtube.com/@kidsstoriesandmagicalmoments" target="_blank" aria-label="YouTube" title="YouTube" rel="noopener noreferrer" class="hover:text-red-600 transition">
        ğŸ¥
      </a>
    </div>
  </footer>  <script>
    async function fetchVideos() {
      try {
        const res = await fetch("/.netlify/functions/fetchVideos");
        const data = await res.json();
        const grid = document.getElementById("videoGrid");
        grid.innerHTML = "";

        data.forEach(video => {
          const id = video.id?.videoId;
          const title = video.snippet?.title || "Untitled";
          const thumb = video.snippet?.thumbnails?.medium?.url || "";
          if (!id || !thumb) return;

          const div = document.createElement("div");
          div.className = "bg-white bg-opacity-80 rounded-xl overflow-hidden shadow-md hover:shadow-xl transition duration-300 cursor-pointer";
          div.innerHTML = `
            <img src="${thumb}" alt="${title}" class="w-full">
            <div class="p-4">
              <h2 class="text-md font-semibold text-purple-800">${title}</h2>
            </div>
          `;

          div.onclick = () => openModal(id);
          grid.appendChild(div);
        });
      } catch (err) {
        console.error("Failed to load videos:", err);
      }
    }

    function openModal(videoId) {
      const modal = document.getElementById("videoModal");
      const iframe = document.getElementById("modalIframe");
      iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
      modal.classList.remove("hidden");
    }

    function closeModal() {
      const modal = document.getElementById("videoModal");
      const iframe = document.getElementById("modalIframe");
      iframe.src = "";
      modal.classList.add("hidden");
    }

    function updateGreetingAndClock() {
      const now = new Date();
      const hours = now.getHours();
      const minutes = now.getMinutes();
      const seconds = now.getSeconds();
      const pad = n => n.toString().padStart(2, '0');
      document.getElementById('clock').textContent = `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;

      let greeting = "Hello!";
      if (hours >= 5 && hours < 12) greeting = "Good morning!";
      else if (hours >= 12 && hours < 17) greeting = "Good afternoon!";
      else if (hours >= 17 && hours < 21) greeting = "Good evening!";
      else greeting = "Good night!";
      document.getElementById('greeting').textContent = greeting;
    }

    const gradients = [
      "from-pink-100 to-purple-200",
      "from-yellow-100 to-red-200",
      "from-blue-100 to-indigo-200",
      "from-green-100 to-teal-200",
      "from-rose-100 to-fuchsia-200",
      "from-sky-100 to-cyan-200"
    ];

    let current = 0;
    setInterval(() => {
      const body = document.getElementById("body");
      body.classList.remove(...gradients);
      current = (current + 1) % gradients.length;
      body.classList.add("bg-gradient-to-br", ...gradients[current].split(" "));
    }, 8000);

    window.onload = () => {
      fetchVideos();
      updateGreetingAndClock();
      setInterval(updateGreetingAndClock, 1000);
    };
  </script></body>
</html>
